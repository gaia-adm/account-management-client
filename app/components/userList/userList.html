<div class="user-list table-responsive">
  <table class="table table-striped">
    <tr>
      <th class="col-md-2">First Name</th>
      <th class="col-md-2">Last Name</th>
      <th class="col-md-3">Emails</th>
      <th class="col-md-1" ng-if="mode==='user-management'">Superuser</th>
      <th class="col-md-1" ng-if="mode!=='user-management'" ng-repeat="role in roles">{{::role.name}}</th>
      <th class="col-md-1"></th>
    </tr>
    <tr ng-repeat="user in users">
      <td class="col-md-2">{{::user.firstName}}</td>
      <td class="col-md-2">{{::user.lastName}}</td>
      <td class="col-md-3">
        <div class="emails" title="{{user.emails.join(', ')}}">{{user.emails.join(', ')}}</div>
      </td>
      <td class="col-md-1" ng-if="mode==='user-management'"><span ng-if="user.isSuperuser">X</span></td>
      <td class="col-md-1" ng-if="mode!=='user-management'" ng-repeat="role in roles">
        <!-- TODO: Refactor to checklist-model, like invitations -->
        <input
          type="checkbox"
          name="roles"
          ng-model="user.radio[role.id]"
          ng-init="user.radio[role.id] = (user.role_ids.indexOf(role.id) !== -1)"
          ng-change="onRoleChange(user)"/>
      </td>
      <!-- REMOVE / DELETE -->
      <td class="col-md-1" ng-if="mode==='user-management'"><div ng-click="onDeleteUser(user)" style="cursor: pointer" class="glyphicon glyphicon-trash"></div></td>
      <td class="col-md-1" ng-if="mode!=='user-management'"><div ng-click="onRemoveUser(user)" style="cursor: pointer" class="glyphicon glyphicon-remove"></div></td>
    </tr>
  </table>
</div>
